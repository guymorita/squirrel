<div class="topcoat-navigation-bar" ng-controller="HomeCtrl">
    <div class="topcoat-navigation-bar__item left quarter">
        <a class="topcoat-icon-button--quiet" ng-click="slidePage('/home','modal')">
            <span class="topcoat-icon home-icon"></span>
        </a>
    </div>
    <div class="topcoat-navigation-bar__item center half">
        <h1 class="topcoat-navigation-bar__title">All Users</h1>
    </div>
    <div class="topcoat-navigation-bar__item right quarter">
        <a class="topcoat-icon-button--quiet" ng-click="changeSettings()">
            <span class="topcoat-icon settings-icon"></span>
        </a>
    </div>
</div>

<div ng-controller="ContactsCtrl">
    <form ng-submit="find()">
        <div class="left" style="float:left">
            <input ng-model="searchTxt" type="text" value="" placeholder="search" class="topcoat-search-input">
        </div>
    </form>
    <ul class="topcoat-list">
      <li ng-repeat="user of allUsers">
        <div>{{user.username}}</div>
        <button class="topcoat-button" ng-click="addUser({{user.id}})">Add</button>
      </li>
    </ul>

    <label class="topcoat-checkbox__label" ng-repeat="friend in friends">
        <div class="topcoat-checkbox">{{friend.username}} {{friend.id}}</div>
        <input type="checkbox" name="friends[]" value="{{friend.username}}" ng-checked="friend.checked" ng-model="friend.checked">
    </label>
    <button class="topcoat-button--cta" ng-click="send()">Send</button>


    <div ng-show="contacts.length>0">
        <p class="centerize">Number of contacts found: {{contacts.length}}</p>
        <div class="topcoat-list__container list">
            <ul class=topcoat-list>
                <li ng-repeat="contact in contacts" class="topcoat-list__item">
                    <p>{{ contact.name.formatted }}
                    <a href="tel://{{contact.phoneNumbers[0].value}}" style="float:right">{{ contact.phoneNumbers[0].value }}</a></p>
                </li>
            </ul>
        </div>
    </div>
</div>

<ng-include src="'partials/settingsOverlay.html'"></ng-include>